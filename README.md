# PR Reviewer Assignment Service

Тестовый сервис для назначения ревьюверов на pull request'ы внутри команд.

## Запуск через Docker

```bash
docker-compose up --build
```

Сервис поднимется на `http://localhost:8080`.

## Конфигурация

Сервис использует переменную окружения `DB_DSN`, задающую строку подключения к PostgreSQL.
В `docker-compose.yml` она уже настроена.

## Миграции
Задание реализовано конкретно для поднятия через docker-compose-up(а не локально) для ускорения и удобства проверки работы,
в связи с этим реализована только одна up миграции, которую выполняется Postgres, поэтому миграции не разделены и не сделаны down миграции
При старте контейнера `db` автоматически применяется миграция `migrations/0001_init.sql`.

## Основные эндпоинты

* `POST /team/add` – создать команду с участниками.
* `GET /team/get?team_name=...` – получить команду.
* `POST /users/setIsActive` – установить флаг активности пользователя.
* `GET /users/getReview?user_id=...` – получить список PR, где пользователь назначен ревьювером.
* `POST /pullRequest/create` – создать PR и автоматически назначить до двух ревьюверов.
* `POST /pullRequest/merge` – пометить PR как MERGED (идемпотентно).
* `POST /pullRequest/reassign` – переназначить ревьювера на другого из его команды.

Формат ответов и ошибок соответствует `openapi.yml` из задания.
